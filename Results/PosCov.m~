clc, clear, close all

velP = import
posCov = importdata('Pred_Data/seq0_poscov.txt');

posP =  data(:,7:9);
posA = data(:,4:6);
posCov = abs(data(:,1:3));

figure
hold on
plot(posA(:,1), posA(:,3), 'r-.')
plot(posP(:,1), posP(:,3), 'b-.')
grid on
for i = 1:200:1000%length(posA)
    index  = i;
    [x,y] = getEllipse(posP(index,1), posP(index,3),posCov(index,1),posCov(index,3));
    plot(posA(index,1), posA(index,3), 'r*', 'MarkerSize', 5)
    plot(x,y, 'b');
end
% plot(posA(1786,1), posA(1786,3), 'ro')
% plot(posP(1786,1), posP(1786,3), 'bo')


legend('Ground Truth', 'Prediction')

axis = 1
figure 
hold on
for i =1:5:length(posA)
    if mod(i,2) == 0
        plot([i, i], [posP(i,axis)  posP(i,axis)+posCov(i,1)], 'b')
        plot([i, i], [posP(i,axis)  posP(i,axis)-posCov(i,1)], 'b')
    else
        plot([i, i], [posP(i,axis)  posP(i,axis)+3*posCov(i,1)], 'g')
        plot([i, i], [posP(i,axis)  posP(i,axis)-3*posCov(i,1)], 'g')
    end
end
plot(posA(:,axis), 'r')
plot(posP(:,axis), 'b')

axis = 3
figure 
hold on
for i =1:5:length(posA)
    if mod(i,2) == 0
        plot([i, i], [posP(i,axis)  posP(i,axis)+posCov(i,1)], 'b')
        plot([i, i], [posP(i,axis)  posP(i,axis)-posCov(i,1)], 'b')
    else
        plot([i, i], [posP(i,axis)  posP(i,axis)+3*posCov(i,1)], 'g')
        plot([i, i], [posP(i,axis)  posP(i,axis)-3*posCov(i,1)], 'g')
    end
end
plot(posA(:,axis), 'r')
plot(posP(:,axis), 'b')